var y=Object.defineProperty;var w=(s,a,t)=>a in s?y(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var o=(s,a,t)=>w(s,typeof a!="symbol"?a+"":a,t);import{j as e,K as A,r as D,L as C}from"./app-B20WdJVO.js";import{c as $,B as u}from"./button-Dz0TBh5k.js";import{B as n}from"./badge-CvAAPJPD.js";import{D as p,a as v,b as N,c as x,d as h}from"./dialog-C1k6rF3h.js";import{U as b,a as S,C as g,A as L,L as E}from"./app-layout-CO1lNBYd.js";import{D as _,S as i}from"./sort-column-button-CZ1nML2z.js";import{L as K}from"./local-tabs-xhIdUeKp.js";import{M as T,C as j,A as M}from"./artigo-cards-BwLa2eyW.js";import{S as V}from"./separator-UA17jtHc.js";import{C as f}from"./clock-C4mB9_gD.js";import{C as k}from"./circle-check-big-joF4Tivw.js";import{P as B}from"./plus-DrJSJvjl.js";import{T as q}from"./table-5RxZ-36U.js";import{E as F}from"./eye-D3zojhBB.js";/* empty css            */import"./index-CYcgW5f-.js";import"./index-7WwFXNb6.js";import"./app-logo-icon-C5S-wMMu.js";import"./input-BuwL_BPj.js";import"./trash-2-HL7muuqB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],P=$("Download",I);class z{constructor(){o(this,"formatCNPJ",a=>a.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2").slice(0,18));o(this,"formatCEP",a=>a.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").slice(0,9));o(this,"formatCPF",a=>{const t=a.replace(/\D/g,"");return t.length!==11?a:t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")});o(this,"captalizeFirstLetter",a=>a.slice(0,1).toUpperCase()+a.slice(1));o(this,"formatDate",a=>{const t=new Date(a),c=String(t.getDate()).padStart(2,"0"),d=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${c}/${d}/${r}`})}}const H=new z;function R({autores:s,tituloArtigo:a}){return e.jsxs(p,{className:"max-w-md",children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Autores do Artigo"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Artigo:"})," ",a]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-medium",children:["Autores (",s.length,"):"]}),e.jsx("div",{className:"space-y-2",children:s.map((t,c)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium",children:c+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:t.nome}),t.email&&e.jsx("div",{className:"text-sm text-muted-foreground",children:t.email})]})]},t.id))})]})]})]})}function U({artigo:s}){const a=r=>{try{return new Date(r).toLocaleDateString("pt-BR")}catch{return r}},t=r=>{if(!r)return"bg-gray-100 text-gray-800";const l=r.nome.toLowerCase();return l.includes("aprovado")||l.includes("aceito")?"bg-green-100 text-green-800":l.includes("rejeitado")||l.includes("recusado")?"bg-red-100 text-red-800":l.includes("pendente")||l.includes("analise")?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"},d=(r=>{if(!r)return j;const l=r.nome.toLowerCase();return l.includes("aprovado")||l.includes("aceito")?k:l.includes("rejeitado")||l.includes("recusado")?j:f})(s.status);return e.jsxs(p,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Detalhes do Artigo"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold leading-tight",children:s.titulo||"Sem título"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsxs("span",{children:["ID: ",s.id]}),s.ano&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Ano: ",s.ano]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.status&&e.jsxs(n,{variant:"secondary",className:t(s.status),children:[e.jsx(d,{className:"h-3 w-3 mr-1"}),s.status.nome]}),s.data_envio&&e.jsxs(n,{variant:"outline",children:[e.jsx(g,{className:"h-3 w-3 mr-1"}),"Enviado em ",a(s.data_envio)]}),s.data_avaliacao&&e.jsxs(n,{variant:"outline",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Avaliado em ",a(s.data_avaliacao)]})]})]}),e.jsx(V,{}),s.resumo&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Resumo"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.resumo})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.evento&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Evento"]}),e.jsx("p",{className:"text-sm bg-muted p-3 rounded-lg",children:s.evento.nome})]}),s.area&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Área"]}),e.jsxs("p",{className:"text-sm bg-muted p-3 rounded-lg",children:[s.area.sigla," - ",s.area.nome]})]})]}),s.autores&&s.autores.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4"}),"Autores (",s.autores.length,")"]}),e.jsx("div",{className:"grid gap-2",children:s.autores.map((r,l)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium",children:l+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:r.nome}),r.email&&e.jsx("div",{className:"text-sm text-muted-foreground",children:r.email})]})]},r.id))})]}),s.media_final&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Avaliação"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{variant:"secondary",className:s.media_final>=7?"bg-green-100 text-green-800":s.media_final>=5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:["Nota: ",s.media_final]})})]}),s.arquivo&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Arquivo"}),e.jsxs(u,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Baixar Arquivo (",s.arquivo,")"]})]})]})]})}const G=[{title:"Artigos",href:route("artigos.index")}],J={curso:!1,area:!0,modalidade:!1,status:!0,orientador:!1,actions:!0},O=[{accessorKey:"id",header:({column:s})=>e.jsx(i,{nome:"Id",column:s}),cell:s=>s.getValue()},{accessorKey:"titulo",header:({column:s})=>e.jsx(i,{nome:"Titulo",column:s}),cell:s=>s.getValue()},{accessorKey:"orientador",header:({column:s})=>e.jsx(i,{nome:"Orientador",column:s}),cell:s=>s.getValue()},{accessorKey:"evento",header:({column:s})=>e.jsx(i,{nome:"Evento",column:s}),cell:({row:s})=>{var a;return s.original.evento?`${(a=s.original.evento)==null?void 0:a.nome}`:"-"}},{accessorKey:"area",header:({column:s})=>e.jsx(i,{nome:"Area",column:s}),cell:({row:s})=>{var a;return s.original.area?`${(a=s.original.area)==null?void 0:a.sigla}`:"-"}},{accessorKey:"modalidade",header:({column:s})=>e.jsx(i,{nome:"Modalidade",column:s}),cell:s=>s.getValue()},{accessorKey:"status",header:({column:s})=>e.jsx(i,{nome:"Status",column:s}),cell:({row:s})=>{const a=s.original.status;if(!a)return e.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem status"});const t=a.nome.toLowerCase();return t.includes("aprovado")||t.includes("aceito")?e.jsx(n,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-200",children:a.nome}):t.includes("rejeitado")||t.includes("reprovado")||t.includes("recusado")?e.jsx(n,{variant:"secondary",className:"bg-red-100 text-red-800 hover:bg-red-200",children:a.nome}):t.includes("pendente")||t.includes("análise")||t.includes("analise")||t.includes("aguardando")?e.jsx(n,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:a.nome}):t.includes("em revisão")||t.includes("revisão")||t.includes("em andamento")?e.jsx(n,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:a.nome}):e.jsx(n,{variant:"secondary",className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:a.nome})}},{accessorKey:"data_envio",header:({column:s})=>e.jsx(i,{nome:"Envio",column:s}),cell:s=>H.formatDate(s.getValue()),meta:{displayName:"Data Envio"}},{accessorKey:"autores",header:({column:s})=>e.jsx(i,{nome:"Autores",column:s}),cell:({row:s})=>{const a=s.original.autores||[];return a.length===0?e.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem autores"}):a.length===1?e.jsx(n,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:a[0].nome}):e.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[e.jsx(n,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:a[0].nome}),e.jsxs(x,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(u,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:["+",a.length-1," mais"]})}),e.jsx(R,{autores:a,tituloArtigo:s.original.titulo||"Sem título"})]})]})}},{id:"actions",enableHiding:!1,header:"Ações",cell:({row:s})=>{const a=s.original;return e.jsx("div",{className:"flex gap-1",children:e.jsxs(x,{children:[e.jsx(h,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(U,{artigo:a})]})})}}];function je(){const{props:s}=A(),a=s.artigos,[t,c]=D.useState("table"),d=m=>{console.log("Editar artigo:",m)},r=m=>{confirm("Tem certeza que deseja excluir este artigo?")&&console.log("Excluir artigo:",m)},l=[{label:"Tabela",value:"table",icon:q},{label:"Cards",value:"cards",icon:E}];return e.jsxs(L,{breadcrumbs:G,children:[e.jsx(C,{title:"Artigos"}),e.jsxs("div",{className:"m-2 p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Artigos"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie artigos científicos e trabalhos acadêmicos"})]}),e.jsxs(u,{children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Novo Artigo"]})]}),e.jsx("div",{className:"border-b",children:e.jsx(K,{tabs:l,value:t,onValueChange:m=>c(m)})}),t==="table"?e.jsx(_,{columns:O,data:a,initialColumnVisibility:J}):e.jsx(M,{artigos:a,onEdit:d,onDelete:r})]})]})}export{O as columns,je as default};
