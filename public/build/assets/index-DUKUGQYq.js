import{K as P,S as j,j as e,r as D,m as L,L as B}from"./app-B20WdJVO.js";import{C as f,X as G,a as q,A as $}from"./app-layout-CO1lNBYd.js";import{c as F,B as N}from"./button-Dz0TBh5k.js";import{C as b,a as w,b as k,B as u,c as C}from"./badge-CvAAPJPD.js";import{C as v}from"./clock-C4mB9_gD.js";import{S as M,T as R}from"./trash-2-HL7muuqB.js";import{C as O}from"./circle-check-big-joF4Tivw.js";import{I as _}from"./input-BuwL_BPj.js";import{L as g,I as p}from"./label-BWW37M_f.js";import{A as U,m as z,C as S}from"./checkbox-CcOEEdHg.js";import{P as J}from"./plus-DrJSJvjl.js";/* empty css            */import"./index-CYcgW5f-.js";import"./index-7WwFXNb6.js";import"./app-logo-icon-C5S-wMMu.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K=F("Image",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],X=F("TrendingUp",V);function Q(){const{props:s}=P(),o=s.eventos||[],x=s.evento;return{eventos:o,evento:x,fetchEventos:()=>{j.get("/eventos")},createEvento:t=>{j.post("/eventos",t)},updateEvento:(t,d)=>{j.put(`/eventos/${t}`,d)},deleteEvento:t=>{j.delete(`/eventos/${t}`)}}}function W({evento:s,onEdit:o,onDelete:x}){const c=t=>{try{const d=new Date(t);return d.toLocaleDateString("pt-BR")+" "+d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t}},a=t=>{try{return new Date(t).toLocaleDateString("pt-BR")}catch{return t}},n=s.evento_finalizado,l=!n&&new Date(s.data_inicio)<=new Date;return e.jsxs(b,{className:"hover:shadow-md transition-shadow",children:[e.jsx(w,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${n?"bg-gray-100":l?"bg-green-100":"bg-blue-100"}`,children:e.jsx(f,{className:`h-4 w-4 ${n?"text-gray-600":l?"text-green-600":"text-blue-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold line-clamp-2",children:s.nome}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(v,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a(s.data_inicio),s.data_fim&&` - ${a(s.data_fim)}`]})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>o(s),className:"h-8 w-8 p-0",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>x(s.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(R,{className:"h-4 w-4"})})]})]})}),e.jsxs(k,{className:"pt-0",children:[s.descricao&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:s.descricao}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(v,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Início:"}),e.jsx("span",{className:"font-medium",children:c(s.data_inicio)})]}),s.data_fim&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(v,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Fim:"}),e.jsx("span",{className:"font-medium",children:c(s.data_fim)})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?e.jsxs(u,{variant:"secondary",className:"bg-gray-100 text-gray-800 hover:bg-gray-100",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Finalizado"]}):l?e.jsxs(u,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-100",children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),"Em Andamento"]}):e.jsxs(u,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Programado"]}),s.seac?e.jsx(u,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"SEAC"}):null,s.seget?e.jsx(u,{variant:"secondary",className:"bg-purple-100 text-purple-800 hover:bg-purple-100",children:"SEGET"}):null,!s.seac&&!s.seget?e.jsx(u,{variant:"outline",children:"Evento Geral"}):null]})]})]})}function Y({eventos:s,onEdit:o,onDelete:x}){if(s.length===0)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum evento encontrado"}),e.jsx("p",{className:"text-muted-foreground",children:"Comece criando um novo evento para organizar suas atividades acadêmicas."})]});const c=s.filter(t=>!t.evento_finalizado&&new Date(t.data_inicio)<=new Date),a=s.filter(t=>!t.evento_finalizado&&new Date(t.data_inicio)>new Date),n=s.filter(t=>t.evento_finalizado),l=(t,d)=>t.length===0?null:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-muted-foreground",children:d}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(h=>e.jsx(W,{evento:h,onEdit:o,onDelete:x},h.id))})]});return e.jsxs("div",{className:"space-y-8",children:[l(c,"Em Andamento"),l(a,"Programados"),l(n,"Finalizados")]})}function Z({isOpen:s,onClose:o}){const[x,c]=D.useState(!1),{data:a,setData:n,processing:l,errors:t,reset:d}=L({nome:"",data_inicio:"",data_fim:"",image:null,descricao:"",seac:!1,seget:!1}),h=r=>{if(r.preventDefault(),!a.seac&&!a.seget)return;const m=new FormData;m.append("nome",a.nome),m.append("data_inicio",a.data_inicio),m.append("data_fim",a.data_fim),m.append("descricao",a.descricao),m.append("seac",a.seac?"1":"0"),m.append("seget",a.seget?"1":"0"),a.image?(m.append("image",a.image),console.log("Image file:",a.image),console.log("Image name:",a.image.name),console.log("Image size:",a.image.size)):console.error("No image selected");for(let[E,T]of m.entries())console.log(E,T);j.post(route("eventos.store"),m,{onSuccess:()=>{console.log("Success!"),d(),o()},onError:E=>{console.error("Errors:",E)}})},y=r=>{n("image",r)},i=r=>{r.preventDefault(),r.stopPropagation(),r.type==="dragenter"||r.type==="dragover"?c(!0):r.type==="dragleave"&&c(!1)},I=r=>{r.preventDefault(),r.stopPropagation(),c(!1),r.dataTransfer.files&&r.dataTransfer.files[0]&&y(r.dataTransfer.files[0])},A=r=>{r.target.files&&r.target.files[0]&&y(r.target.files[0])};return s?e.jsx(U,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),e.jsxs(z.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Novo Evento"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(G,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"nome",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome do Evento"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_,{id:"nome",type:"text",required:!0,value:a.nome,onChange:r=>n("nome",r.target.value),placeholder:"Digite o nome do evento",className:"pl-10"})]}),e.jsx(p,{message:t.nome})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"data_inicio",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Data de Início"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_,{id:"data_inicio",type:"date",required:!0,value:a.data_inicio,onChange:r=>n("data_inicio",r.target.value),className:"pl-10"})]}),e.jsx(p,{message:t.data_inicio})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"data_fim",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Data de Fim"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_,{id:"data_fim",type:"date",required:!0,value:a.data_fim,onChange:r=>n("data_fim",r.target.value),className:"pl-10"})]}),e.jsx(p,{message:t.data_fim})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Imagem do Evento"}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${x?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,onDragEnter:i,onDragLeave:i,onDragOver:i,onDrop:I,children:[e.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.image?e.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:a.image.name}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Clique para enviar"})," ","ou arraste e solte"]})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"PNG, JPG, JPEG até 10MB"})]})]})]}),e.jsx(p,{message:t.image})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"descricao",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descrição"}),e.jsx("textarea",{id:"descricao",required:!0,value:a.descricao,onChange:r=>n("descricao",r.target.value),placeholder:"Descreva o evento...",className:"min-h-[100px] w-full px-4 py-3 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 focus:bg-white dark:focus:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 resize-vertical"}),e.jsx(p,{message:t.descricao})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Evento"}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"seac",checked:a.seac,onClick:()=>n("seac",!a.seac)}),e.jsx(g,{htmlFor:"seac",className:"text-sm text-gray-700 dark:text-gray-300",children:"SEAC (Semana Acadêmica de Ciências)"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"seget",checked:a.seget,onClick:()=>n("seget",!a.seget)}),e.jsx(g,{htmlFor:"seget",className:"text-sm text-gray-700 dark:text-gray-300",children:"SEGET (Seminário de Gestão e Tecnologia)"})]})]}),!a.seac&&!a.seget&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Selecione pelo menos um tipo de evento"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(N,{type:"button",variant:"outline",onClick:o,disabled:l,children:"Cancelar"}),e.jsx(N,{type:"submit",disabled:l||!a.seac&&!a.seget,className:"bg-blue-600 hover:bg-blue-700",children:l?"Criando...":"Criar Evento"})]})]})})]})]})}):null}const ee=[{title:"Eventos",href:"/eventos"}];function fe(){const{eventos:s,deleteEvento:o}=Q(),[x,c]=D.useState("cards"),[a,n]=D.useState(!1),l=i=>{console.log("Editar evento:",i)},t=i=>{confirm("Tem certeza que deseja excluir este evento?")&&o(i)},d=s.filter(i=>!i.evento_finalizado&&new Date(i.data_inicio)<=new Date),h=s.filter(i=>!i.evento_finalizado&&new Date(i.data_inicio)>new Date),y=s.filter(i=>i.evento_finalizado);return e.jsxs($,{breadcrumbs:ee,children:[e.jsx(B,{title:"Eventos"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Eventos"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie eventos acadêmicos, congressos e outras atividades"})]}),e.jsxs(N,{onClick:()=>n(!0),children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Novo Evento"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Em Andamento"}),e.jsx(v,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"eventos ativos no momento"})]})]}),e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Programados"}),e.jsx(f,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"eventos para o futuro"})]})]}),e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Finalizados"}),e.jsx(X,{className:"h-4 w-4 text-gray-600"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:y.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"eventos concluídos"})]})]})]}),e.jsx("div",{className:"flex-1",children:e.jsx(Y,{eventos:s,onEdit:l,onDelete:t})})]}),e.jsx(Z,{isOpen:a,onClose:()=>n(!1)})]})}export{fe as default};
